//
// Created:     22.08.2017
// Aurthor:   Rishat
//

#define _race_final_included
#pragma library race_final
#include "race"

static racename[MAX_NAME] = "Final Race"; // назвение гонки
static racefrequency = 3;
static lineupdelay = 150; // сколько ждать игрока после объ€влени€
static minracers = 1; // минимальное количество игроков дл€ начала
static minlevel = 10; // минимальный уровень игрока
static cashprize = 10000; // денежный приз
static cashentry = 1500; // плата за участие
static xpprize = 2700; // приз ’ѕ за 1 место
static xpbonus = 1100; // бонус за лучший результат
static maxracetime = 6000; // time race runs for (seconds) не пон€л
static type = 5; // is multirace
static allowedcars[2]; // количество и типы тачек.  акие хочешь!
static Float:startlineheading = 270.00; // направление старта
static Float:racecheckpoints[][CoordInfo] = {
//јвиачасть гонки
{-55.960929,2503.293212,16.690896,3,V_RUSTLER},
{412.986175,2508.287353,38.463264,3,-1},
{878.628540,2623.584228,18.624711,3,-1},
{1140.707519,2782.348632,11.018126,3,-1},
{1742.657226,2773.276611,20.223623,3,-1},
{2707.272705,2780.165039,43.064537,3,-1},
{2992.244628,3131.384033,6.898780,3,-1},
{3414.970947,3635.830322,14.891126,3,-1},
{3962.626708,3673.794189,4.360219,3,-1},
{3468.659912,2152.857421,3.738685,3,-1},
{3001.276611,2123.782226,2.538443,3,-1},
{2913.440917,2118.074218,22.952013,3,-1},
{2534.341796,2120.373291,34.868366,3,-1},
{2318.788574,2142.519287,32.661190,3,-1},
{1402.034912,2144.801513,35.169475,3,-1},
{1739.700805,575.913024,7.729689,3,-1},
{2169.117187,317.236419,11.392992,3,-1},
{2172.772705,237.388198,2.416843,3,-1},
{2104.893066,50.668533,10.402572,3,-1},
{1888.023681,-39.420623,18.298637,3,-1},
{1654.900634,-13.686813,13.809046,3,-1},
{1698.193847,-484.211364,34.235374,3,-1},
{1657.916748,-1048.969238,64.258171,3,-1},
{1624.255249,-1234.399414,82.248992,3,-1},
{1598.195678,-1452.993652,66.886413,3,-1},
{1538.808227,-1497.210937,46.968978,3,-1},
{1377.056030,-1553.255126,21.581666,3,-1},
{1366.549682,-1680.120117,21.265922,3,-1},
{1392.465332,-1798.691772,22.206052,3,-1},
{1373.207275,-2039.624145,70.094902,3,-1},
{1067.884643,-2185.154296,63.000980,3,-1},
{505.876007,-2049.049804,2.452542,3,-1},
{423.568786,-1943.030761,6.779266,3,-1},
{511.935729,-1807.271484,58.836128,3,-1},
{374.311462,-1698.696777,14.803843,3,-1},
{536.728393,-1433.515258,26.884115,3,-1},
{347.518768,-1527.923706,60.971446,3,-1},
{539.117370,-1633.941894,33.163921,3,-1},
{709.715637,-2269.090576,34.273361,3,-1},
{719.853881,-1922.144165,5.541659,3,-1},
{725.965393,-1790.485229,1.058951,3,-1},
{725.910888,-1674.177001,2.241714,3,-1},
{723.976501,-1588.094726,2.911016,4,-1},
{728.136169,-1524.902099,-0.438270,0,-1},
//¬одна€ часть гонки
{726.282897,-1951.941162,-0.625311,0,V_SQUALO},
{473.785827,-2428.565917,-0.430302,0,-1},
{-167.323394,-2971.125976,-0.551508,0,-1},
{-863.723083,-2961.837890,-0.170412,0,-1},
{-1114.435668,-2791.123779,-0.279114,0,-1},
{-1193.130493,-2583.322509,-0.400343,0,-1},
{-1229.704956,-2385.562255,-0.440678,0,-1},
{-1178.370361,-2050.941894,-0.552750,0,-1},
{-1503.583007,-1688.534790,-0.540701,0,-1},
{-1972.111083,-1362.839965,-0.514401,0,-1},
{-2624.965576,-910.349914,-0.551553,0,-1},
{-2885.569091,-1007.170288,-0.501255,0,-1},
{-3007.699707,-590.814208,0.051321,0,-1},
{-3007.819580,426.230743,-0.689148,0,-1},
{-3003.132568,1339.857421,-0.716018,0,-1},
{-2957.281738,2421.947998,-0.556117,0,-1},
{-2935.364501,2868.651855,-0.597880,0,-1},
{-2779.218505,2955.706787,-0.862774,0,-1},
{-2191.629638,2951.472900,12.779459,0,-1},
{-1199.630249,3032.623535,-0.216547,0,-1},
{-148.610626,2977.291503,0.087629,0,-1},
{41.516933,2957.727783,-0.337162,0,-1},
{255.977615,2913.258300,4.831428,0,-1},
{259.3392,2903.2405,7.3798,0,-1},
//ћашинна€ часть гонки
{169.696075,2786.720703,68.363464,0,V_INFERNUS},
{-72.941284,2793.999755,73.371902,0,-1},
{-187.449523,2844.193847,84.181289,0,-1},
{-343.699371,2841.752685,108.729965,0,-1},
{-490.167449,2841.443359,80.943092,0,-1},
{-682.392517,2770.053466,93.681762,0,-1},
{-781.783935,2730.772460,44.877891,0,-1},
{-1382.238281,2601.331054,54.776191,0,-1},
{-1543.963623,2601.724853,55.245872,0,-1},
{-1546.562255,2365.336181,44.422588,0,-1},
{-1621.269897,2389.064697,51.177726,0,-1},
{-1723.949707,2256.900634,8.449456,0,-1},
{-1821.809326,2133.841552,7.333858,0,-1},
{-1739.442749,1826.763916,22.826133,0,-1},
{-1472.336181,1864.168457,32.191417,0,-1},
{-1370.213867,1853.591308,36.784439,0,-1},
{-924.756286,1718.651977,27.389366,0,-1},
{-859.446777,1616.230102,26.512069,0,-1},
{-768.886169,1603.527465,26.675756,0,-1},
{-758.627502,1481.918212,23.982189,0,-1},
{-761.426757,1413.196655,13.457778,0,-1},
{-833.748596,1393.698486,13.166541,0,-1},
{-724.066589,1234.356201,12.927679,0,-1},
{-579.487365,1113.740966,10.467662,0,-1},
{-718.562988,996.175903,11.693692,0,-1},
{-824.150817,1078.763671,34.129398,0,-1},
{-1140.395019,845.663391,34.137676,0,-1},
{-1271.911499,751.559265,34.169979,0,-1},
{-1619.784179,499.040344,25.420995,0,-1},
{-1817.425048,356.237487,0.617187,0,-1},
{-1939.297241,205.926727,25.123355,0,-1},
{-2006.549316,190.138549,27.097658,0,-1},
{-2003.988769,414.087097,34.574382,0,-1},
{-2000.417968,597.205627,34.600498,0,-1},
{-1913.813476,603.656188,34.575187,0,-1},
{-1717.596557,644.062500,24.294717,0,-1},
{-1701.174560,683.854309,24.292638,0,-1},
{-1569.629394,660.683837,6.746135,0,-1},
{-1538.267700,843.044006,6.596204,0,-1},
{-1670.673583,848.758483,23.590986,0,-1},
{-1844.945556,848.828125,33.765254,0,-1},
{-1995.708007,849.635559,44.860656,0,-1},
{-1974.718994,921.201232,44.855525,0,-1},
{-1851.988891,921.439941,34.527309,0,V_SULTAN},
{-1663.680053,920.955017,24.209918,0,-1},
{-1529.048706,927.086242,6.597908,0,-1},
{-1584.534667,1079.845825,6.603392,0,-1},
{-1586.231445,1164.680297,6.601402,0,-1},
{-1682.515869,1294.853881,6.597733,0,-1},
{-1801.055908,1380.225830,6.597645,0,-1},
{-1922.983398,1313.082275,6.597580,0,-1},
{-2045.981933,1304.216918,6.746121,0,-1},
{-2140.749755,1273.868652,23.011049,0,-1},
{-2267.291259,1257.504150,42.755832,0,-1},
{-2265.207763,1105.165039,78.995605,0,-1},
{-2264.607666,924.408142,66.058609,0,-1},
{-2264.903320,746.826416,48.855480,0,-1},
{-2264.876464,563.495971,34.574275,0,-1},
{-2229.363037,504.284484,34.582084,0,-1},
{-2209.793457,453.486907,34.730541,0,-1},
{-2157.957031,454.310852,34.730495,0,-1},
{-2147.520996,211.139205,34.736808,0,-1},
{-2166.920410,-86.580459,34.730583,0,-1},
{-2249.988281,-191.324584,34.730476,0,-1},
{-2252.913574,-310.715118,49.088138,0,-1},
{-2156.917480,-494.020874,41.653640,0,-1},
{-2039.551025,-601.663391,29.820499,0,-1},
{-1977.304443,-713.585144,31.589630,0,-1},
{-1924.077392,-990.585327,31.535875,0,-1},
{-1929.426391,-1155.872192,28.646659,0,-1},
{-1885.856689,-1246.938842,39.042972,0,-1},
{-1913.048095,-1370.958374,39.746757,0,-1},
{-1601.505737,-1513.046752,37.295387,0,-1},
{-1642.916259,-1627.516235,35.816368,0,-1},
{-1925.950195,-1791.347900,30.607004,0,-1},
{-2130.750488,-2113.238037,58.047801,0,-1},
{-2286.791015,-2198.972656,30.021335,0,-1},
{-2337.556396,-2184.404785,34.312580,0,-1},
{-2249.604492,-2129.598876,61.995780,0,-1},
{-2116.005371,-1944.032592,100.078544,0,-1},
{-2121.531494,-1896.701538,112.719123,0,-1},
{-2333.898437,-2097.071289,113.959136,0,-1},
{-2482.796142,-2047.526489,144.686141,0,-1},
{-2580.719238,-1893.766235,198.793548,0,-1},
{-2616.586181,-1769.743652,260.774505,0,-1},
{-2521.009765,-1891.680419,295.087432,0,-1},
{-2600.912841,-1735.945190,321.910583,0,-1},
{-2589.693115,-1624.290039,343.988891,0,-1},
{-2526.023681,-1801.288452,376.248779,0,-1},
{-2540.869873,-1671.115234,400.328857,0,-1},
{-2327.128906,-1812.117675,436.008850,0,-1},
{-2350.067626,-1631.659545,483.248077,0,-1},
{-2229.142089,-1741.998779,480.436035,0,-1}

};

static RaceID; // this will hold the id this race is assigned at init

forward race_final_init();

public race_final_init() // unique named init function (must be ran on gamemode init)
{
	RaceID = RegisterRace(racename);
	if (RaceID == INVALID_RACE_ID) return;

	Race[RaceID][race_frequency] = racefrequency;
 	Race[RaceID][race_lineupdelay] = lineupdelay;
 	Race[RaceID][race_minracers] = minracers;
 	Race[RaceID][race_minlevel] = minlevel;
 	Race[RaceID][race_cashprize] = cashprize;
	Race[RaceID][race_cashentry] = cashentry;
	Race[RaceID][race_xpprize] = xpprize;
	Race[RaceID][race_xpbonus] = xpbonus;
	Race[RaceID][race_maxracetime] = maxracetime;
	Race[RaceID][race_startheading] = startlineheading;
	Race[RaceID][race_type] = type;
	set(Race[RaceID][race_vehicles],allowedcars);

	RaceSize[RaceID] = sizeof(racecheckpoints);
	for (new cpid=0;cpid<sizeof(racecheckpoints);cpid++)
	{
		RaceCheckpoints[RaceID][cpid][Coord_X] = racecheckpoints[cpid][Coord_X];
		RaceCheckpoints[RaceID][cpid][Coord_Y] = racecheckpoints[cpid][Coord_Y];
		RaceCheckpoints[RaceID][cpid][Coord_Z] = racecheckpoints[cpid][Coord_Z];
		RaceCheckpoints[RaceID][cpid][CP_type] = racecheckpoints[cpid][CP_type];
		RaceCheckpoints[RaceID][cpid][allow_veh] = racecheckpoints[cpid][allow_veh];
	}

	RaceStats[RaceID][race_timer] = MakeRaceSleepTime(RaceID);
    RaceStats[RaceID][race_state] = RACE_STATE_SLEEPING;
  	printf("Race: '%s' Loaded.",racename);
 }
